#include <stdio.h>
#include <string.h>
#include "game.h"
#include "graphics.h"
#include "memory.h"
#include "window.h"
#include "math.h"

const s8 Sinus[] = {
 0,  3,  6,  9,  12,  16,  19,  22,
 25,  28,  31,  34,  37,  40,  43,  46,
 48,  51,  54,  57,  60,  62,  65,  68,
 70,  73,  75,  78,  80,  83,  85,  87,
 90,  92,  94,  96,  98,  100,  102,  104,
 105,  107,  109,  110,  112,  113,  115,  116,
 117,  118,  119,  120,  121,  122,  123,  124,
 124,  125,  126,  126,  126,  127,  127,  127,
 127,  127,  127,  127,  126,  126,  126,  125,
 125,  124,  123,  123,  122,  121,  120,  119,
 118,  116,  115,  114,  112,  111,  109,  108,
 106,  104,  102,  101,  99,  97,  95,  93,
 90,  88,  86,  84,  81,  79,  76,  74,
 71,  69,  66,  63,  61,  58,  55,  52,
 49,  47,  44,  41,  38,  35,  32,  29,
 26,  23,  20,  17,  14,  10,  7,  4,
 1, -2, -5, -8, -11, -14, -17, -21,
-24, -27, -30, -33, -36, -39, -42, -45,
-47, -50, -53, -56, -59, -61, -64, -67,
-69, -72, -75, -77, -80, -82, -84, -87,
-89, -91, -93, -95, -97, -99, -101, -103,
-105, -107, -108, -110, -111, -113, -114, -115,
-117, -118, -119, -120, -121, -122, -123, -124,
-124, -125, -125, -126, -126, -127, -127, -127,
-127, -127, -127, -127, -127, -126, -126, -125,
-125, -124, -124, -123, -122, -121, -120, -119,
-118, -117, -116, -114, -113, -111, -110, -108,
-107, -105, -103, -101, -99, -97, -95, -93,
-91, -89, -87, -84, -82, -80, -77, -75,
-72, -70, -67, -64, -62, -59, -56, -53,
-51, -48, -45, -42, -39, -36, -33, -30,
-27, -24, -21, -18, -15, -12, -8, -5,
};

int main(){

	int err;

	err = Window_Open(GAME_DEFAULT_WIDTH, GAME_DEFAULT_HEIGHT);

	if(err == WIN_ERR)
		return 1;

	err = Memory_Init();

	if(err == MEM_ERR){
		Window_Close();
		return 1;
	}

    Graphics_Init();

	Game_Run();

	Window_Close();

	Memory_Close();

	Graphics_Close();

	return 0;
}